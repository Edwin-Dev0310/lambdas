{
  "/Users/ivanmoranvelazquez/IdeaProjects/hist/reportes_ercot/iam/serverless.yml": {
    "versionFramework": "4.23.0",
    "servicePath": "/Users/ivanmoranvelazquez/IdeaProjects/hist/reportes_ercot/iam/serverless.yml",
    "serviceConfigFileName": "serverless.yml",
    "service": {
      "service": "imove-reportes-ercot-role",
      "provider": {
        "name": "aws",
        "runtime": "python3.12",
        "stage": "dev",
        "region": "us-east-1",
        "environment": {
          "REGION": "us-east-1"
        },
        "versionFunctions": true,
        "compiledCloudFormationTemplate": {
          "AWSTemplateFormatVersion": "2010-09-09",
          "Description": "The AWS CloudFormation template for this Serverless application",
          "Resources": {
            "ReportesErcotRole": {
              "Type": "AWS::IAM::Role",
              "Properties": {
                "RoleName": "ReportesErcotRole",
                "MaxSessionDuration": 3600,
                "AssumeRolePolicyDocument": {
                  "Statement": [
                    {
                      "Effect": "Allow",
                      "Principal": {
                        "Service": "lambda.amazonaws.com"
                      },
                      "Action": [
                        "sts:AssumeRole"
                      ]
                    }
                  ]
                },
                "ManagedPolicyArns": [
                  "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
                  {
                    "Ref": "S3ErcotReportsPolicy"
                  },
                  {
                    "Ref": "SecretsErcotReportsPolicy"
                  },
                  {
                    "Ref": "LayersErcotReportsPolicy"
                  }
                ]
              }
            },
            "S3ErcotReportsPolicy": {
              "Type": "AWS::IAM::ManagedPolicy",
              "Properties": {
                "ManagedPolicyName": "S3ErcotReportsPolicy",
                "Description": "Lambda policy to allow access to s3 api info",
                "Path": "/",
                "PolicyDocument": {
                  "Version": "2012-10-17",
                  "Statement": [
                    {
                      "Effect": "Allow",
                      "Action": [
                        "s3:GetObject"
                      ],
                      "Resource": [
                        "arn:aws:s3:::medidores-ercot-dev",
                        "arn:aws:s3:::medidores-ercot-dev/*"
                      ]
                    }
                  ]
                }
              }
            },
            "SecretsErcotReportsPolicy": "<REDACTED>",
            "LayersErcotReportsPolicy": {
              "Type": "AWS::IAM::ManagedPolicy",
              "Properties": {
                "ManagedPolicyName": "LayersErcotReportsPolicy",
                "Description": "Lambda policy to allow access to secrets manager apan model",
                "Path": "/",
                "PolicyDocument": {
                  "Version": "2012-10-17",
                  "Statement": [
                    {
                      "Effect": "Allow",
                      "Action": [
                        "lambda:GetLayerVersion"
                      ],
                      "Resource": [
                        "*"
                      ]
                    }
                  ]
                }
              }
            }
          },
          "Outputs": {
            "ServerlessDeploymentBucketName": {
              "Value": "serverless-framework-deployments-us-east-1-5804d545-76c0",
              "Export": {
                "Name": "sls-imove-reportes-ercot-role-dev-ServerlessDeploymentBucketName"
              }
            }
          }
        }
      },
      "custom": {
        "stage": "dev",
        "my-region": "us-east-1",
        "config": {
          "prod": {
            "account_id": "857285351963"
          },
          "dev": {
            "account_id": "857285351963"
          }
        }
      },
      "resources": {
        "Resources": {
          "ReportesErcotRole": {
            "Type": "AWS::IAM::Role",
            "Properties": {
              "RoleName": "ReportesErcotRole",
              "MaxSessionDuration": 3600,
              "AssumeRolePolicyDocument": {
                "Statement": [
                  {
                    "Effect": "Allow",
                    "Principal": {
                      "Service": "lambda.amazonaws.com"
                    },
                    "Action": [
                      "sts:AssumeRole"
                    ]
                  }
                ]
              },
              "ManagedPolicyArns": [
                "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
                {
                  "Ref": "S3ErcotReportsPolicy"
                },
                {
                  "Ref": "SecretsErcotReportsPolicy"
                },
                {
                  "Ref": "LayersErcotReportsPolicy"
                }
              ]
            }
          },
          "S3ErcotReportsPolicy": {
            "Type": "AWS::IAM::ManagedPolicy",
            "Properties": {
              "ManagedPolicyName": "S3ErcotReportsPolicy",
              "Description": "Lambda policy to allow access to s3 api info",
              "Path": "/",
              "PolicyDocument": {
                "Version": "2012-10-17",
                "Statement": [
                  {
                    "Effect": "Allow",
                    "Action": [
                      "s3:GetObject"
                    ],
                    "Resource": [
                      "arn:aws:s3:::medidores-ercot-dev",
                      "arn:aws:s3:::medidores-ercot-dev/*"
                    ]
                  }
                ]
              }
            }
          },
          "SecretsErcotReportsPolicy": "<REDACTED>",
          "LayersErcotReportsPolicy": {
            "Type": "AWS::IAM::ManagedPolicy",
            "Properties": {
              "ManagedPolicyName": "LayersErcotReportsPolicy",
              "Description": "Lambda policy to allow access to secrets manager apan model",
              "Path": "/",
              "PolicyDocument": {
                "Version": "2012-10-17",
                "Statement": [
                  {
                    "Effect": "Allow",
                    "Action": [
                      "lambda:GetLayerVersion"
                    ],
                    "Resource": [
                      "*"
                    ]
                  }
                ]
              }
            }
          }
        },
        "Outputs": {}
      }
    },
    "provider": {
      "name": "aws",
      "runtime": "python3.12",
      "stage": "dev",
      "region": "us-east-1",
      "environment": {
        "REGION": "us-east-1"
      },
      "versionFunctions": true,
      "compiledCloudFormationTemplate": {
        "AWSTemplateFormatVersion": "2010-09-09",
        "Description": "The AWS CloudFormation template for this Serverless application",
        "Resources": {
          "ReportesErcotRole": {
            "Type": "AWS::IAM::Role",
            "Properties": {
              "RoleName": "ReportesErcotRole",
              "MaxSessionDuration": 3600,
              "AssumeRolePolicyDocument": {
                "Statement": [
                  {
                    "Effect": "Allow",
                    "Principal": {
                      "Service": "lambda.amazonaws.com"
                    },
                    "Action": [
                      "sts:AssumeRole"
                    ]
                  }
                ]
              },
              "ManagedPolicyArns": [
                "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
                {
                  "Ref": "S3ErcotReportsPolicy"
                },
                {
                  "Ref": "SecretsErcotReportsPolicy"
                },
                {
                  "Ref": "LayersErcotReportsPolicy"
                }
              ]
            }
          },
          "S3ErcotReportsPolicy": {
            "Type": "AWS::IAM::ManagedPolicy",
            "Properties": {
              "ManagedPolicyName": "S3ErcotReportsPolicy",
              "Description": "Lambda policy to allow access to s3 api info",
              "Path": "/",
              "PolicyDocument": {
                "Version": "2012-10-17",
                "Statement": [
                  {
                    "Effect": "Allow",
                    "Action": [
                      "s3:GetObject"
                    ],
                    "Resource": [
                      "arn:aws:s3:::medidores-ercot-dev",
                      "arn:aws:s3:::medidores-ercot-dev/*"
                    ]
                  }
                ]
              }
            }
          },
          "SecretsErcotReportsPolicy": "<REDACTED>",
          "LayersErcotReportsPolicy": {
            "Type": "AWS::IAM::ManagedPolicy",
            "Properties": {
              "ManagedPolicyName": "LayersErcotReportsPolicy",
              "Description": "Lambda policy to allow access to secrets manager apan model",
              "Path": "/",
              "PolicyDocument": {
                "Version": "2012-10-17",
                "Statement": [
                  {
                    "Effect": "Allow",
                    "Action": [
                      "lambda:GetLayerVersion"
                    ],
                    "Resource": [
                      "*"
                    ]
                  }
                ]
              }
            }
          }
        },
        "Outputs": {
          "ServerlessDeploymentBucketName": {
            "Value": "serverless-framework-deployments-us-east-1-5804d545-76c0",
            "Export": {
              "Name": "sls-imove-reportes-ercot-role-dev-ServerlessDeploymentBucketName"
            }
          }
        }
      }
    },
    "dashboard": {
      "isEnabledForService": false,
      "requiredAuthentication": false,
      "orgFeaturesInUse": null,
      "orgObservabilityIntegrations": null,
      "serviceAppId": null,
      "serviceProvider": null,
      "instanceParameters": null
    },
    "serviceRawFile": "service: imove-reportes-ercot-role\n\nprovider:\n  name: aws\n  runtime: python3.12\n  stage: ${self:custom.stage}\n  region: ${self:custom.my-region}\n  environment:\n    REGION: ${self:provider.region}\n\ncustom:\n  stage: ${opt:stage, 'dev'}\n  my-region: ${opt:region, 'us-east-1'}\n  config:\n    prod:\n      account_id: '857285351963'\n    dev:\n      account_id: '857285351963'\n\n\nresources:\n- ${file(roles.yml)}\n- ${file(policies.yml)}",
    "command": [
      "deploy"
    ],
    "options": {
      "stage": "dev"
    },
    "orgId": "7c70b296-42db-4546-9ab4-cfa902b15624",
    "orgName": "ammperivan",
    "userId": "0ZDMGhBhqR8Z3R2X9V",
    "userName": "ammperivan",
    "serviceProviderAwsAccountId": "857285351963",
    "serviceProviderAwsCfStackName": "imove-reportes-ercot-role-dev",
    "serviceProviderAwsCfStackId": "arn:aws:cloudformation:us-east-1:857285351963:stack/imove-reportes-ercot-role-dev/78351c30-ba72-11f0-9129-0eb3ddb16825",
    "serviceProviderAwsCfStackCreated": "2025-11-05T18:08:45.541Z",
    "serviceProviderAwsCfStackUpdated": null,
    "serviceProviderAwsCfStackStatus": "CREATE_COMPLETE",
    "serviceProviderAwsCfStackOutputs": [
      {
        "OutputKey": "ServerlessDeploymentBucketName",
        "OutputValue": "serverless-framework-deployments-us-east-1-5804d545-76c0",
        "ExportName": "sls-imove-reportes-ercot-role-dev-ServerlessDeploymentBucketName"
      }
    ],
    "compiledCloudFormationTemplate": {
      "AWSTemplateFormatVersion": "2010-09-09",
      "Description": "The AWS CloudFormation template for this Serverless application",
      "Resources": {
        "ReportesErcotRole": {
          "Type": "AWS::IAM::Role",
          "Properties": {
            "RoleName": "ReportesErcotRole",
            "MaxSessionDuration": 3600,
            "AssumeRolePolicyDocument": {
              "Statement": [
                {
                  "Effect": "Allow",
                  "Principal": {
                    "Service": "lambda.amazonaws.com"
                  },
                  "Action": [
                    "sts:AssumeRole"
                  ]
                }
              ]
            },
            "ManagedPolicyArns": [
              "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              {
                "Ref": "S3ErcotReportsPolicy"
              },
              {
                "Ref": "SecretsErcotReportsPolicy"
              },
              {
                "Ref": "LayersErcotReportsPolicy"
              }
            ]
          }
        },
        "S3ErcotReportsPolicy": {
          "Type": "AWS::IAM::ManagedPolicy",
          "Properties": {
            "ManagedPolicyName": "S3ErcotReportsPolicy",
            "Description": "Lambda policy to allow access to s3 api info",
            "Path": "/",
            "PolicyDocument": {
              "Version": "2012-10-17",
              "Statement": [
                {
                  "Effect": "Allow",
                  "Action": [
                    "s3:GetObject"
                  ],
                  "Resource": [
                    "arn:aws:s3:::medidores-ercot-dev",
                    "arn:aws:s3:::medidores-ercot-dev/*"
                  ]
                }
              ]
            }
          }
        },
        "SecretsErcotReportsPolicy": "<REDACTED>",
        "LayersErcotReportsPolicy": {
          "Type": "AWS::IAM::ManagedPolicy",
          "Properties": {
            "ManagedPolicyName": "LayersErcotReportsPolicy",
            "Description": "Lambda policy to allow access to secrets manager apan model",
            "Path": "/",
            "PolicyDocument": {
              "Version": "2012-10-17",
              "Statement": [
                {
                  "Effect": "Allow",
                  "Action": [
                    "lambda:GetLayerVersion"
                  ],
                  "Resource": [
                    "*"
                  ]
                }
              ]
            }
          }
        }
      },
      "Outputs": {
        "ServerlessDeploymentBucketName": {
          "Value": "serverless-framework-deployments-us-east-1-5804d545-76c0",
          "Export": {
            "Name": "sls-imove-reportes-ercot-role-dev-ServerlessDeploymentBucketName"
          }
        }
      }
    }
  }
}